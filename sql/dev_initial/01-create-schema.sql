
CREATE TABLE "user" (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1000) PRIMARY KEY,
    username VARCHAR(128) NOT NULL UNIQUE,
    pwd VARCHAR(256),
    pwd_salt UUID NOT NULL DEFAULT gen_random_uuid(),
    token_salt UUID NOT NULL DEFAULT gen_random_uuid(),
    role VARCHAR(32) NOT NULL DEFAULT 'user'

);

CREATE TABLE task (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1000) PRIMARY KEY,
    title VARCHAR(256) NOT NULL,
    created_by BIGINT NOT NULL REFERENCES "user"(id)
);

CREATE TABLE document (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1000) PRIMARY KEY,
    filename VARCHAR(256) NOT NULL,
    filepath VARCHAR(512) NOT NULL,
    uploaded_by BIGINT NOT NULL REFERENCES "user"(id)
);
